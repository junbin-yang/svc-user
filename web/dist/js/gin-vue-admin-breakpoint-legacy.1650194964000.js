/*! 
 Build Time : 1650194964000 */
!function(){function e(e,t,n,r,a,i,o){try{var u=e[i](o),l=u.value}catch(s){return void n(s)}u.done?t(l):Promise.resolve(l).then(r,a)}function t(t){return function(){var n=this,r=arguments;return new Promise((function(a,i){var o=t.apply(n,r);function u(t){e(o,a,i,u,l,"next",t)}function l(t){e(o,a,i,u,l,"throw",t)}u(void 0)}))}}var n=document.createElement("style");n.innerHTML="h3[data-v-8c42d8e2]{margin:40px 0 0}ul[data-v-8c42d8e2]{list-style-type:none;padding:0}li[data-v-8c42d8e2]{display:inline-block;margin:0 10px}a[data-v-8c42d8e2]{color:#42b983}#fromCont[data-v-8c42d8e2]{display:inline-block}.fileUpload[data-v-8c42d8e2]{padding:3px 10px;font-size:12px;height:20px;line-height:20px;position:relative;cursor:pointer;color:#000;border:1px solid #c1c1c1;border-radius:4px;overflow:hidden;display:inline-block}.fileUpload input[data-v-8c42d8e2]{position:absolute;font-size:100px;right:0;top:0;opacity:0;cursor:pointer}.fileName[data-v-8c42d8e2]{display:inline-block;vertical-align:top;margin:6px 15px 0}.uploadBtn[data-v-8c42d8e2]{position:relative;top:-10px;margin-left:15px}.tips[data-v-8c42d8e2]{margin-top:30px;font-size:14px;font-weight:400;color:#606266}.el-divider[data-v-8c42d8e2]{margin:0 0 30px}.list[data-v-8c42d8e2]{margin-top:15px}.list-item[data-v-8c42d8e2]{display:block;margin-right:10px;color:#606266;line-height:25px;margin-bottom:5px;width:40%}.list-item .percentage[data-v-8c42d8e2]{float:right}.list-enter-active[data-v-8c42d8e2],.list-leave-active[data-v-8c42d8e2]{transition:all 1s}.list-enter[data-v-8c42d8e2],.list-leave-to[data-v-8c42d8e2]{opacity:0;transform:translateY(-30px)}\n",document.head.appendChild(n),System.register(["../gva/gin-vue-admin-index-legacy.1650194964000.js"],(function(e){"use strict";var n,r,a,i,o,u,l,s,f,c,p,h,d,v,y,g,m,b,_;return{setters:[function(e){n=e.s,r=e._,a=e.r,i=e.Y,o=e.b,u=e.o,l=e.c,s=e.d,f=e.e,c=e.w,p=e.y,h=e.z,d=e.t,v=e.f,y=e.T,g=e.i,m=e.p,b=e.q,_=e.j}],execute:function(){var A={exports:{}};A.exports=function(e){var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],r=e[1],a=e[2],i=e[3];r=((r+=((a=((a+=((i=((i+=((n=((n+=(r&a|~r&i)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&a)+t[1]-389564586|0)<<12|i>>>20)+n|0)&n|~i&r)+t[2]+606105819|0)<<17|a>>>15)+i|0)&i|~a&n)+t[3]-1044525330|0)<<22|r>>>10)+a|0,r=((r+=((a=((a+=((i=((i+=((n=((n+=(r&a|~r&i)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&a)+t[5]+1200080426|0)<<12|i>>>20)+n|0)&n|~i&r)+t[6]-1473231341|0)<<17|a>>>15)+i|0)&i|~a&n)+t[7]-45705983|0)<<22|r>>>10)+a|0,r=((r+=((a=((a+=((i=((i+=((n=((n+=(r&a|~r&i)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&a)+t[9]-1958414417|0)<<12|i>>>20)+n|0)&n|~i&r)+t[10]-42063|0)<<17|a>>>15)+i|0)&i|~a&n)+t[11]-1990404162|0)<<22|r>>>10)+a|0,r=((r+=((a=((a+=((i=((i+=((n=((n+=(r&a|~r&i)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&a)+t[13]-40341101|0)<<12|i>>>20)+n|0)&n|~i&r)+t[14]-1502002290|0)<<17|a>>>15)+i|0)&i|~a&n)+t[15]+1236535329|0)<<22|r>>>10)+a|0,r=((r+=((a=((a+=((i=((i+=((n=((n+=(r&i|a&~i)+t[1]-165796510|0)<<5|n>>>27)+r|0)&a|r&~a)+t[6]-1069501632|0)<<9|i>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|a>>>18)+i|0)&n|i&~n)+t[0]-373897302|0)<<20|r>>>12)+a|0,r=((r+=((a=((a+=((i=((i+=((n=((n+=(r&i|a&~i)+t[5]-701558691|0)<<5|n>>>27)+r|0)&a|r&~a)+t[10]+38016083|0)<<9|i>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|a>>>18)+i|0)&n|i&~n)+t[4]-405537848|0)<<20|r>>>12)+a|0,r=((r+=((a=((a+=((i=((i+=((n=((n+=(r&i|a&~i)+t[9]+568446438|0)<<5|n>>>27)+r|0)&a|r&~a)+t[14]-1019803690|0)<<9|i>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|a>>>18)+i|0)&n|i&~n)+t[8]+1163531501|0)<<20|r>>>12)+a|0,r=((r+=((a=((a+=((i=((i+=((n=((n+=(r&i|a&~i)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&a|r&~a)+t[2]-51403784|0)<<9|i>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|a>>>18)+i|0)&n|i&~n)+t[12]-1926607734|0)<<20|r>>>12)+a|0,r=((r+=((a=((a+=((i=((i+=((n=((n+=(r^a^i)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^a)+t[8]-2022574463|0)<<11|i>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|a>>>16)+i|0)^i^n)+t[14]-35309556|0)<<23|r>>>9)+a|0,r=((r+=((a=((a+=((i=((i+=((n=((n+=(r^a^i)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^a)+t[4]+1272893353|0)<<11|i>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|a>>>16)+i|0)^i^n)+t[10]-1094730640|0)<<23|r>>>9)+a|0,r=((r+=((a=((a+=((i=((i+=((n=((n+=(r^a^i)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^a)+t[0]-358537222|0)<<11|i>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|a>>>16)+i|0)^i^n)+t[6]+76029189|0)<<23|r>>>9)+a|0,r=((r+=((a=((a+=((i=((i+=((n=((n+=(r^a^i)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^a)+t[12]-421815835|0)<<11|i>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|a>>>16)+i|0)^i^n)+t[2]-995338651|0)<<23|r>>>9)+a|0,r=((r+=((i=((i+=(r^((n=((n+=(a^(r|~i))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~a))+t[7]+1126891415|0)<<10|i>>>22)+n|0)^((a=((a+=(n^(i|~r))+t[14]-1416354905|0)<<15|a>>>17)+i|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+a|0,r=((r+=((i=((i+=(r^((n=((n+=(a^(r|~i))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~a))+t[3]-1894986606|0)<<10|i>>>22)+n|0)^((a=((a+=(n^(i|~r))+t[10]-1051523|0)<<15|a>>>17)+i|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+a|0,r=((r+=((i=((i+=(r^((n=((n+=(a^(r|~i))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~a))+t[15]-30611744|0)<<10|i>>>22)+n|0)^((a=((a+=(n^(i|~r))+t[6]-1560198380|0)<<15|a>>>17)+i|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+a|0,r=((r+=((i=((i+=(r^((n=((n+=(a^(r|~i))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~a))+t[11]-1120210379|0)<<10|i>>>22)+n|0)^((a=((a+=(n^(i|~r))+t[2]+718787259|0)<<15|a>>>17)+i|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+a|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=a+e[2]|0,e[3]=i+e[3]|0}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function a(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function i(e){var t,a,i,o,u,l,s=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=s;t+=64)n(f,r(e.substring(t-64,t)));for(a=(e=e.substring(t-64)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<a;t+=1)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(n(f,i),t=0;t<16;t+=1)i[t]=0;return o=(o=8*s).toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(o[2],16),l=parseInt(o[1],16)||0,i[14]=u,i[15]=l,n(f,i),f}function o(e){var t,r,i,o,u,l,s=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=s;t+=64)n(f,a(e.subarray(t-64,t)));for(r=(e=t-64<s?e.subarray(t-64):new Uint8Array(0)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)i[t>>2]|=e[t]<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(n(f,i),t=0;t<16;t+=1)i[t]=0;return o=(o=8*s).toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(o[2],16),l=parseInt(o[1],16)||0,i[14]=u,i[15]=l,n(f,i),f}function u(e){var n,r="";for(n=0;n<4;n+=1)r+=t[e>>8*n+4&15]+t[e>>8*n&15];return r}function l(e){var t;for(t=0;t<e.length;t+=1)e[t]=u(e[t]);return e.join("")}function s(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function f(e,t){var n,r=e.length,a=new ArrayBuffer(r),i=new Uint8Array(a);for(n=0;n<r;n+=1)i[n]=e.charCodeAt(n);return t?i:a}function c(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function p(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e)),r.set(new Uint8Array(t),e.byteLength),n?r:r.buffer}function h(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function d(){this.reset()}return l(i("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var a,i,o,u,l=this.byteLength,s=t(n,l),f=l;return r!==e&&(f=t(r,l)),s>f?new ArrayBuffer(0):(a=f-s,i=new ArrayBuffer(a),o=new Uint8Array(i),u=new Uint8Array(this,s,a),o.set(u),i)}}(),d.prototype.append=function(e){return this.appendBinary(s(e)),this},d.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,a=this._buff.length;for(t=64;t<=a;t+=64)n(this._hash,r(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},d.prototype.end=function(e){var t,n,r=this._buff,a=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<a;t+=1)i[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(i,a),n=l(this._hash),e&&(n=h(n)),this.reset(),n},d.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},d.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},d.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},d.prototype._finish=function(e,t){var r,a,i,o=t;if(e[o>>2]|=128<<(o%4<<3),o>55)for(n(this._hash,e),o=0;o<16;o+=1)e[o]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(r[2],16),i=parseInt(r[1],16)||0,e[14]=a,e[15]=i,n(this._hash,e)},d.hash=function(e,t){return d.hashBinary(s(e),t)},d.hashBinary=function(e,t){var n=l(i(e));return t?h(n):n},d.ArrayBuffer=function(){this.reset()},d.ArrayBuffer.prototype.append=function(e){var t,r=p(this._buff.buffer,e,!0),i=r.length;for(this._length+=e.byteLength,t=64;t<=i;t+=64)n(this._hash,a(r.subarray(t-64,t)));return this._buff=t-64<i?new Uint8Array(r.buffer.slice(t-64)):new Uint8Array(0),this},d.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,a=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<a;t+=1)i[t>>2]|=r[t]<<(t%4<<3);return this._finish(i,a),n=l(this._hash),e&&(n=h(n)),this.reset(),n},d.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.ArrayBuffer.prototype.getState=function(){var e=d.prototype.getState.call(this);return e.buff=c(e.buff),e},d.ArrayBuffer.prototype.setState=function(e){return e.buff=f(e.buff,!0),d.prototype.setState.call(this,e)},d.ArrayBuffer.prototype.destroy=d.prototype.destroy,d.ArrayBuffer.prototype._finish=d.prototype._finish,d.ArrayBuffer.hash=function(e,t){var n=l(o(new Uint8Array(e)));return t?h(n):n},d}();var x=A.exports,w=function(e){return n({url:"/fileUploadAndDownload/findFile",method:"get",params:e})},k=function(e){return n({url:"/fileUploadAndDownload/breakpointContinueFinish",method:"post",params:e})},B=function(e,t){return n({url:"/fileUploadAndDownload/removeChunk",method:"post",data:e,params:t})},C=function(e){return m("data-v-8c42d8e2"),e=e(),b(),e},U={class:"break-point"},F={class:"gva-table-box"},M=g("大文件上传"),S={id:"fromCont",method:"post"},D=g(" 选择文件 "),I=g("上传文件"),N=C((function(){return s("div",{class:"el-upload__tip"},"请上传不超过5MB的文件",-1)})),R={class:"list"},z={key:0,class:"list-item"},L={class:"percentage"},P=C((function(){return s("div",{class:"tips"},"此版本为先行体验功能测试版，样式美化和性能优化正在进行中，上传切片文件和合成的完整文件分别再QMPlusserver目录的breakpointDir文件夹和fileDir文件夹",-1)})),E={name:"BreakPoint"},T=Object.assign(E,{setup:function(e){var r=a(null),g=a(""),m=a([]),b=a([]),A=a(NaN),C=a(!1),E=a(0),T=a(!0),j=function(){var e=t(regeneratorRuntime.mark((function e(n){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new FileReader,i=n.target.files[0],5242880,r.value=i,E.value=0,r.value.size<5242880?(a.readAsArrayBuffer(r.value),a.onload=function(){var e=t(regeneratorRuntime.mark((function e(t){var n,a,i,o,u,l,s,f,c,p,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=t.target.result,(a=new x.ArrayBuffer).append(n),g.value=a.end(),i=1048576,o=0,u=0,l=0,m.value=[];u<r.value.size;)o=l*i,u=(l+1)*i,s=r.value.slice(o,u),(f=new window.FormData).append("fileMd5",g.value),f.append("file",s),f.append("chunkNumber",l),f.append("fileName",r.value.name),m.value.push({key:l,formData:f}),l++;return c={fileName:r.value.name,fileMd5:g.value,chunkTotal:m.value.length},e.next=13,w(c);case 13:p=e.sent,h=p.data.file.ExaFileChunk,p.data.file.IsFinish?(b.value=[],_.success("文件已秒传")):b.value=m.value.filter((function(e){return!(h&&h.some((function(t){return t.FileChunkNumber===e.key})))})),A.value=b.value.length,console.log(A.value);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):(C.value=!0,_("请上传小于5M文件"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){null!==r.value?(100===E.value&&(T.value=!1),Y()):_("请先上传文件")},Y=function(){b.value&&b.value.forEach((function(e){e.formData.append("chunkTotal",m.value.length);var t=new FileReader,n=e.formData.get("file");t.readAsArrayBuffer(n),t.onload=function(t){var n=new x.ArrayBuffer;n.append(t.target.result),e.formData.append("chunkMd5",n.end()),q(e)}}))};i(A,(function(){E.value=Math.floor((m.value.length-A.value)/m.value.length*100)}));var q=function(){var e=t(regeneratorRuntime.mark((function e(t){var a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u=t.formData,n({url:"/fileUploadAndDownload/breakpointContinue",method:"post",headers:{"Content-Type":"multipart/form-data"},data:u});case 2:if(0===e.sent.code){e.next=5;break}return e.abrupt("return");case 5:if(A.value--,0!==A.value){e.next=16;break}return a={fileName:r.value.name,fileMd5:g.value},e.next=10,k(a);case 10:if(0!==(i=e.sent).code){e.next=16;break}return o={fileName:r.value.name,fileMd5:g.value,filePath:i.data.filePath},_.success("上传成功"),e.next=16,B(o);case 16:case"end":return e.stop()}var u}),e)})));return function(t){return e.apply(this,arguments)}}(),H=a(null),O=function(){H.value.dispatchEvent(new MouseEvent("click"))};return function(e,t){var n=o("el-divider"),a=o("el-button"),i=o("document"),g=o("el-icon"),m=o("el-progress");return u(),l("div",U,[s("div",F,[f(n,{"content-position":"left"},{default:c((function(){return[M]})),_:1}),s("form",S,[s("div",{class:"fileUpload",onClick:O},[D,p(s("input",{id:"file",ref_key:"FileInput",ref:H,multiple:"multiple",type:"file",onChange:j},null,544),[[h,!1]])])]),f(a,{disabled:C.value,type:"primary",size:"small",class:"uploadBtn",onClick:$},{default:c((function(){return[I]})),_:1},8,["disabled"]),N,s("div",R,[f(y,{name:"list",tag:"p"},{default:c((function(){return[r.value?(u(),l("div",z,[f(g,null,{default:c((function(){return[f(i)]})),_:1}),s("span",null,d(r.value.name),1),s("span",L,d(E.value)+"%",1),f(m,{"show-text":!1,"text-inside":!1,"stroke-width":2,percentage:E.value},null,8,["percentage"])])):v("",!0)]})),_:1})]),P])])}}});e("default",r(T,[["__scopeId","data-v-8c42d8e2"]]))}}}))}();
