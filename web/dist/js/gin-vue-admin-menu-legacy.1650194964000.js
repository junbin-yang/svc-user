/*! 
 Build Time : 1650194964000 */
!function(){function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function t(t){for(var l=1;l<arguments.length;l++){var a=null!=arguments[l]?arguments[l]:{};l%2?e(Object(a),!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n,l,a,u,r){try{var o=e[u](r),i=o.value}catch(c){return void n(c)}o.done?t(i):Promise.resolve(i).then(l,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,u){var r=e.apply(t,n);function o(e){l(r,a,u,o,i,"next",e)}function i(e){l(r,a,u,o,i,"throw",e)}o(void 0)}))}}var u=document.createElement("style");u.innerHTML=".warning[data-v-a3bb2a52]{color:#dc143c}.icon-column[data-v-a3bb2a52]{display:flex;align-items:center}.icon-column .el-icon[data-v-a3bb2a52]{margin-right:8px}\n",document.head.appendChild(u),System.register(["../gva/gin-vue-admin-index-legacy.1650194964000.js","./gin-vue-admin-icon-legacy.1650194964000.js","./gin-vue-admin-warningBar-legacy.1650194964000.js","./gin-vue-admin-authorityBtn-legacy.1650194964000.js"],(function(e){"use strict";var n,l,u,r,o,i,c,d,f,p,s,m,v,h,b,g,y,w,V,k,_,x,I,D,U,C,O;return{setters:[function(e){n=e._,l=e.a,u=e.r,r=e.b,o=e.o,i=e.c,c=e.d,d=e.e,f=e.w,p=e.t,s=e.l,m=e.x,v=e.f,h=e.g,b=e.i,g=e.p,y=e.q,w=e.a6,V=e.P,k=e.aa,_=e.j,x=e.ab,I=e.ac,D=e.ad},function(e){U=e.default},function(e){C=e.W},function(e){O=e.c}],execute:function(){var j=function(e){return g("data-v-a3bb2a52"),e=e(),y(),e},P={class:"gva-table-box"},z={class:"gva-btn-list"},R=b("新增根菜单"),B={key:0,class:"icon-column"},S=b("添加子菜单"),q=b("编辑"),T=b("删除"),A={style:{display:"inline-flex"}},M=b(" 路由Path "),E=b("添加参数"),N=j((function(){return c("span",{style:{"font-size":"12px","margin-right":"12px"}},"如果菜单包含子菜单，请创建router-view二级路由页面或者",-1)})),F=b("点我设置"),H=b("新增菜单参数"),$=b("删除"),K=b("新增可控按钮"),L=b("删除"),W={class:"dialog-footer"},G=b("取 消"),J=b("确 定"),Q={name:"Menus"},X=Object.assign(Q,{setup:function(e){var n=l({path:[{required:!0,message:"请输入菜单name",trigger:"blur"}],component:[{required:!0,message:"请输入文件路径",trigger:"blur"}],"meta.title":[{required:!0,message:"请输入菜单展示名称",trigger:"blur"}]}),b=u(1),g=u(0),y=u(999),j=u([]),Q=u({}),X=function(){var e=a(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t({page:b.value,pageSize:y.value},Q.value));case 2:0===(n=e.sent).code&&(j.value=n.data.list,g.value=n.data.total,b.value=n.data.page,y.value=n.data.pageSize);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();X();var Y=function(){var e=a(regeneratorRuntime.mark((function e(t,n){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(l=t[n]).ID){e.next=4;break}return t.splice(n,1),e.abrupt("return");case 4:return e.next=6,O({id:l.ID});case 6:if(0!==e.sent.code){e.next=10;break}return t.splice(n,1),e.abrupt("return");case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Z=u({ID:0,path:"",name:"",hidden:"",parentId:"",component:"",meta:{title:"",icon:"",defaultMenu:!1,closeTab:!1,keepAlive:!1},parameters:[],menuBtn:[]}),ee=function(){Z.value.path=Z.value.name},te=function(e){ae(),e()},ne=u(null),le=u(!1),ae=function(){le.value=!1,ne.value.resetFields(),Z.value={ID:0,path:"",name:"",hidden:"",parentId:"",component:"",meta:{title:"",icon:"",defaultMenu:!1,keepAlive:""}}},ue=u(!1),re=function(){ae(),ue.value=!1},oe=function(){var e=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ne.value.validate(function(){var e=a(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=13;break}if(!fe.value){e.next=7;break}return e.next=4,x(Z.value);case 4:n=e.sent,e.next=10;break;case 7:return e.next=9,I(Z.value);case 9:n=e.sent;case 10:0===n.code&&(_({type:"success",message:fe.value?"编辑成功":"添加成功!"}),X()),ae(),ue.value=!1;case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=u([{ID:"0",title:"根菜单"}]),ce=function(){ie.value=[{ID:"0",title:"根目录"}],de(j.value,ie.value,!1)},de=function e(t,n,l){t&&t.forEach((function(t){if(t.children&&t.children.length){var a={title:t.meta.title,ID:String(t.ID),disabled:l||t.ID===Z.value.ID,children:[]};e(t.children,a.children,l||t.ID===Z.value.ID),n.push(a)}else{var u={title:t.meta.title,ID:String(t.ID),disabled:l||t.ID===Z.value.ID};n.push(u)}}))},fe=u(!1),pe=u("新增菜单"),se=function(e){pe.value="新增菜单",Z.value.parentId=String(e),fe.value=!1,ce(),ue.value=!0},me=function(){var e=a(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pe.value="编辑菜单",e.next=3,D({id:t});case 3:n=e.sent,Z.value=n.data.menu,fe.value=!0,ce(),ue.value=!0;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return function(e,t){var l=r("el-button"),u=r("el-table-column"),g=r("el-icon"),y=r("el-table"),w=r("el-input"),x=r("el-form-item"),I=r("el-checkbox"),D=r("el-option"),O=r("el-select"),Q=r("el-cascader"),ae=r("el-form"),ce=r("el-dialog");return o(),i("div",null,[c("div",P,[c("div",z,[d(l,{size:"small",type:"primary",icon:"plus",onClick:t[0]||(t[0]=function(e){return se("0")})},{default:f((function(){return[R]})),_:1})]),d(y,{data:j.value,"row-key":"ID"},{default:f((function(){return[d(u,{align:"left",label:"ID","min-width":"100",prop:"ID"}),d(u,{align:"left",label:"路由Name","show-overflow-tooltip":"","min-width":"160",prop:"name"}),d(u,{align:"left",label:"路由Path","show-overflow-tooltip":"","min-width":"160",prop:"path"}),d(u,{align:"left",label:"是否隐藏","min-width":"100",prop:"hidden"},{default:f((function(e){return[c("span",null,p(e.row.hidden?"隐藏":"显示"),1)]})),_:1}),d(u,{align:"left",label:"父节点","min-width":"90",prop:"parentId"}),d(u,{align:"left",label:"排序","min-width":"70",prop:"sort"}),d(u,{align:"left",label:"文件路径","min-width":"360",prop:"component"}),d(u,{align:"left",label:"展示名称","min-width":"120",prop:"authorityName"},{default:f((function(e){return[c("span",null,p(e.row.meta.title),1)]})),_:1}),d(u,{align:"left",label:"图标","min-width":"140",prop:"authorityName"},{default:f((function(e){return[e.row.meta.icon?(o(),i("div",B,[d(g,null,{default:f((function(){return[(o(),s(m(e.row.meta.icon)))]})),_:2},1024),c("span",null,p(e.row.meta.icon),1)])):v("",!0)]})),_:1}),d(u,{align:"left",fixed:"right",label:"操作",width:"300"},{default:f((function(e){return[d(l,{size:"small",type:"text",icon:"plus",onClick:function(t){return se(e.row.ID)}},{default:f((function(){return[S]})),_:2},1032,["onClick"]),d(l,{size:"small",type:"text",icon:"edit",onClick:function(t){return me(e.row.ID)}},{default:f((function(){return[q]})),_:2},1032,["onClick"]),d(l,{size:"small",type:"text",icon:"delete",onClick:function(t){return n=e.row.ID,void V.confirm("此操作将永久删除所有角色下该菜单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k({ID:n});case 2:0===e.sent.code&&(_({type:"success",message:"删除成功!"}),1===j.value.length&&b.value>1&&b.value--,X());case 4:case"end":return e.stop()}}),e)})))).catch((function(){_({type:"info",message:"已取消删除"})}));var n}},{default:f((function(){return[T]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"])]),d(ce,{modelValue:ue.value,"onUpdate:modelValue":t[14]||(t[14]=function(e){return ue.value=e}),"before-close":te,title:pe.value},{footer:f((function(){return[c("div",W,[d(l,{size:"small",onClick:re},{default:f((function(){return[G]})),_:1}),d(l,{size:"small",type:"primary",onClick:oe},{default:f((function(){return[J]})),_:1})])]})),default:f((function(){return[d(C,{title:"新增菜单，需要在角色管理内配置权限才可使用"}),ue.value?(o(),s(ae,{key:0,ref_key:"menuForm",ref:ne,inline:!0,model:Z.value,rules:h(n),"label-position":"top","label-width":"85px"},{default:f((function(){return[d(x,{label:"路由Name",prop:"path",style:{width:"30%"}},{default:f((function(){return[d(w,{modelValue:Z.value.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return Z.value.name=e}),autocomplete:"off",placeholder:"唯一英文字符串",onChange:ee},null,8,["modelValue"])]})),_:1}),d(x,{prop:"path",style:{width:"30%"}},{label:f((function(){return[c("div",A,[M,d(I,{modelValue:le.value,"onUpdate:modelValue":t[2]||(t[2]=function(e){return le.value=e}),style:{float:"right","margin-left":"20px"}},{default:f((function(){return[E]})),_:1},8,["modelValue"])])]})),default:f((function(){return[d(w,{modelValue:Z.value.path,"onUpdate:modelValue":t[3]||(t[3]=function(e){return Z.value.path=e}),disabled:!le.value,autocomplete:"off",placeholder:"建议只在后方拼接参数"},null,8,["modelValue","disabled"])]})),_:1}),d(x,{label:"是否隐藏",style:{width:"30%"}},{default:f((function(){return[d(O,{modelValue:Z.value.hidden,"onUpdate:modelValue":t[4]||(t[4]=function(e){return Z.value.hidden=e}),placeholder:"是否在列表隐藏"},{default:f((function(){return[d(D,{value:!1,label:"否"}),d(D,{value:!0,label:"是"})]})),_:1},8,["modelValue"])]})),_:1}),d(x,{label:"父节点ID",style:{width:"30%"}},{default:f((function(){return[d(Q,{modelValue:Z.value.parentId,"onUpdate:modelValue":t[5]||(t[5]=function(e){return Z.value.parentId=e}),style:{width:"100%"},disabled:!fe.value,options:ie.value,props:{checkStrictly:!0,label:"title",value:"ID",disabled:"disabled",emitPath:!1},"show-all-levels":!1,filterable:""},null,8,["modelValue","disabled","options"])]})),_:1}),d(x,{label:"文件路径",prop:"component",style:{width:"60%"}},{default:f((function(){return[d(w,{modelValue:Z.value.component,"onUpdate:modelValue":t[6]||(t[6]=function(e){return Z.value.component=e}),autocomplete:"off"},null,8,["modelValue"]),N,d(l,{style:{"margin-top":"4px"},size:"small",onClick:t[7]||(t[7]=function(e){return Z.value.component="view/routerHolder.vue"})},{default:f((function(){return[F]})),_:1})]})),_:1}),d(x,{label:"展示名称",prop:"meta.title",style:{width:"30%"}},{default:f((function(){return[d(w,{modelValue:Z.value.meta.title,"onUpdate:modelValue":t[8]||(t[8]=function(e){return Z.value.meta.title=e}),autocomplete:"off"},null,8,["modelValue"])]})),_:1}),d(x,{label:"图标",prop:"meta.icon",style:{width:"30%"}},{default:f((function(){return[d(U,{meta:Z.value.meta,style:{width:"100%"}},null,8,["meta"])]})),_:1}),d(x,{label:"排序标记",prop:"sort",style:{width:"30%"}},{default:f((function(){return[d(w,{modelValue:Z.value.sort,"onUpdate:modelValue":t[9]||(t[9]=function(e){return Z.value.sort=e}),modelModifiers:{number:!0},autocomplete:"off"},null,8,["modelValue"])]})),_:1}),d(x,{label:"KeepAlive",prop:"meta.keepAlive",style:{width:"30%"}},{default:f((function(){return[d(O,{modelValue:Z.value.meta.keepAlive,"onUpdate:modelValue":t[10]||(t[10]=function(e){return Z.value.meta.keepAlive=e}),style:{width:"100%"},placeholder:"是否keepAlive缓存页面"},{default:f((function(){return[d(D,{value:!1,label:"否"}),d(D,{value:!0,label:"是"})]})),_:1},8,["modelValue"])]})),_:1}),d(x,{label:"CloseTab",prop:"meta.closeTab",style:{width:"30%"}},{default:f((function(){return[d(O,{modelValue:Z.value.meta.closeTab,"onUpdate:modelValue":t[11]||(t[11]=function(e){return Z.value.meta.closeTab=e}),style:{width:"100%"},placeholder:"是否自动关闭tab"},{default:f((function(){return[d(D,{value:!1,label:"否"}),d(D,{value:!0,label:"是"})]})),_:1},8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules"])):v("",!0),c("div",null,[d(l,{size:"small",type:"primary",icon:"edit",onClick:t[12]||(t[12]=function(e){return function(e){e.parameters||(e.parameters=[]),e.parameters.push({type:"query",key:"",value:""})}(Z.value)})},{default:f((function(){return[H]})),_:1}),d(y,{data:Z.value.parameters,style:{width:"100%"}},{default:f((function(){return[d(u,{align:"left",prop:"type",label:"参数类型",width:"180"},{default:f((function(e){return[d(O,{modelValue:e.row.type,"onUpdate:modelValue":function(t){return e.row.type=t},placeholder:"请选择"},{default:f((function(){return[d(D,{key:"query",value:"query",label:"query"}),d(D,{key:"params",value:"params",label:"params"})]})),_:2},1032,["modelValue","onUpdate:modelValue"])]})),_:1}),d(u,{align:"left",prop:"key",label:"参数key",width:"180"},{default:f((function(e){return[c("div",null,[d(w,{modelValue:e.row.key,"onUpdate:modelValue":function(t){return e.row.key=t}},null,8,["modelValue","onUpdate:modelValue"])])]})),_:1}),d(u,{align:"left",prop:"value",label:"参数值"},{default:f((function(e){return[c("div",null,[d(w,{modelValue:e.row.value,"onUpdate:modelValue":function(t){return e.row.value=t}},null,8,["modelValue","onUpdate:modelValue"])])]})),_:1}),d(u,{align:"left"},{default:f((function(e){return[c("div",null,[d(l,{type:"danger",size:"small",icon:"delete",onClick:function(t){return n=Z.value.parameters,l=e.$index,void n.splice(l,1);var n,l}},{default:f((function(){return[$]})),_:2},1032,["onClick"])])]})),_:1})]})),_:1},8,["data"]),d(l,{style:{"margin-top":"12px"},size:"small",type:"primary",icon:"edit",onClick:t[13]||(t[13]=function(e){return function(e){console.log(e),e.menuBtn||(e.menuBtn=[]),e.menuBtn.push({name:"",desc:""})}(Z.value)})},{default:f((function(){return[K]})),_:1}),d(y,{data:Z.value.menuBtn,style:{width:"100%"}},{default:f((function(){return[d(u,{align:"left",prop:"name",label:"按钮名称",width:"180"},{default:f((function(e){return[c("div",null,[d(w,{modelValue:e.row.name,"onUpdate:modelValue":function(t){return e.row.name=t}},null,8,["modelValue","onUpdate:modelValue"])])]})),_:1}),d(u,{align:"left",prop:"name",label:"备注",width:"180"},{default:f((function(e){return[c("div",null,[d(w,{modelValue:e.row.desc,"onUpdate:modelValue":function(t){return e.row.desc=t}},null,8,["modelValue","onUpdate:modelValue"])])]})),_:1}),d(u,{align:"left"},{default:f((function(e){return[c("div",null,[d(l,{type:"danger",size:"small",icon:"delete",onClick:function(t){return Y(Z.value.menuBtn,e.$index)}},{default:f((function(){return[L]})),_:2},1032,["onClick"])])]})),_:1})]})),_:1},8,["data"])])]})),_:1},8,["modelValue","title"])])}}});e("default",n(X,[["__scopeId","data-v-a3bb2a52"]]))}}}))}();
